# ğŸ¤– Unitree G1 SDK - AI á€†á€­á€¯á€„á€ºá€›á€¬ á€¡á€•á€­á€¯á€„á€ºá€¸á€™á€»á€¬á€¸ á€…á€¯á€…á€Šá€ºá€¸á€á€»á€€á€º

## ğŸ“‚ AI á€†á€­á€¯á€„á€ºá€›á€¬ á€–á€­á€¯á€„á€ºá€™á€»á€¬á€¸

| á€–á€­á€¯á€„á€º | á€›á€Šá€ºá€›á€½á€šá€ºá€á€»á€€á€º |
|------|------------|
| `unitree_sdk2/example/g1/audio/g1_audio_openai_example.cpp` | OpenAI GPT integration (English/Chinese) |
| `unitree_sdk2/example/g1/audio/g1_audio_burmese_example.cpp` | á€™á€¼á€”á€ºá€™á€¬á€˜á€¬á€á€¬ AI assistant (Google Cloud + OpenAI) |
| `unitree_sdk2/example/g1/audio/TTS_STT_EXPLAINED.md` | TTS/STT system documentation |
| `unitree_sdk2/example/g1/rom_general_qa/3_qa1.md` | RL Policy á€›á€¾á€„á€ºá€¸á€œá€„á€ºá€¸á€á€»á€€á€º |
| `unitree_sdk2/example/g1/rom_general_qa/4_way_to_rl.md` | RL Training Guide |

---

## ğŸ”Š 1. Speech AI (TTS/STT/ASR)

### Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLOSED LOOP AI CONVERSATION                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ğŸ¤ Microphone     ğŸ§  AI Processing      ğŸ”Š Speaker                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ User    â”‚  â†’    â”‚ ASR (STT)   â”‚  â†’    â”‚ OpenAI  â”‚                â”‚
â”‚  â”‚ Speech  â”‚       â”‚ Engine      â”‚       â”‚ GPT-4   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                â”‚
â”‚                                                â”‚                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”                â”‚
â”‚                    â”‚         TTS Engine            â”‚                â”‚
â”‚                    â”‚    (Robot Speaker Output)     â”‚                â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API Integration Code

#### OpenAI Integration (`g1_audio_openai_example.cpp`)

```cpp
// Configuration
#define OPENAI_API_URL "https://api.openai.com/v1/chat/completions"

// System Prompt
const std::string SYSTEM_PROMPT = R"(
You are a helpful AI assistant running on a Unitree G1 humanoid robot.
You can understand and respond in both English and Chinese.
Keep your responses concise and natural for spoken conversation.
)";

// OpenAI API Call
std::string callOpenAI(const std::string& user_message) {
    // Build request
    request_body << R"({"model": "gpt-4o-mini", "messages": )" << messages_json.str();
    request_body << R"(, "max_tokens": 150, "temperature": 0.7})";
    
    // CURL request to OpenAI
    curl_easy_setopt(curl, CURLOPT_URL, OPENAI_API_URL);
    curl_easy_setopt(curl, CURLOPT_HTTPHEADER, headers);
    // ...
}

// ASR Handler â†’ OpenAI â†’ TTS (Closed Loop)
void asr_handler(const void* msg) {
    std::string user_text = resMsg->data();
    
    // 1. ASR result á€›á€•á€¼á€®
    std::cout << "ğŸ¤ User said: " << user_text << std::endl;
    
    // 2. OpenAI á€á€­á€¯á€· á€•á€­á€¯á€·
    std::string ai_response = callOpenAI(user_text);
    
    // 3. TTS á€–á€¼á€„á€·á€º á€•á€¼á€”á€ºá€•á€¼á€±á€¬
    g_audio_client->TtsMaker(ai_response, detectLanguage(ai_response));
}
```

#### Burmese AI (`g1_audio_burmese_example.cpp`)

```cpp
// API Endpoints
#define GOOGLE_STT_URL "https://speech.googleapis.com/v1/speech:recognize"
#define GOOGLE_TTS_URL "https://texttospeech.googleapis.com/v1/text:synthesize"
#define OPENAI_API_URL "https://api.openai.com/v1/chat/completions"

// System Prompt (Burmese)
const std::string SYSTEM_PROMPT = R"(
You are a friendly AI assistant running on a Unitree G1 humanoid robot in Myanmar.
You MUST respond ONLY in Burmese (Myanmar) language using Myanmar script.
Keep your responses short and natural for spoken conversation.
)";

// Google Cloud STT for Burmese
std::string googleSTT(const std::vector<int16_t>& audio_data) {
    request_body << R"({
        "config": {
            "encoding": "LINEAR16",
            "sampleRateHertz": 16000,
            "languageCode": "my-MM",  // á€™á€¼á€”á€ºá€™á€¬
            "alternativeLanguageCodes": ["en-US"]
        },
        "audio": { "content": ")" << audio_base64 << R"(" }
    })";
}

// Google Cloud TTS for Burmese
std::vector<uint8_t> googleTTS(const std::string& text) {
    request_body << R"({
        "input": { "text": ")" << escaped_text << R"(" },
        "voice": {
            "languageCode": "my-MM",
            "name": "my-MM-Wavenet-A"
        }
    })";
}
```

---

## ğŸ§  2. Reinforcement Learning (Robot Control AI)

### Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RL-Trained Neural Network Policy               â”‚
â”‚    (Runs on robot's onboard computer at ~500Hz)             â”‚
â”‚                                                             â”‚
â”‚   Inputs:                     Outputs:                      â”‚
â”‚   â€¢ IMU data (orientation)    â€¢ Joint position targets      â”‚
â”‚   â€¢ Joint positions           â€¢ (29 DOF commands)           â”‚
â”‚   â€¢ Joint velocities                                        â”‚
â”‚   â€¢ Velocity command                                        â”‚
â”‚   â€¢ Previous actions                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Low-Level PD Controllers                   â”‚
â”‚           (Runs on motor drivers at ~1kHz)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### RL Training Workflow

```bash
# 1. Training (Isaac Gym)
python legged_gym/scripts/train.py --task=g1 --headless --num_envs=4096

# 2. Verify (Isaac Gym)
python legged_gym/scripts/play.py --task=g1

# 3. Sim2Sim (MuJoCo)
python deploy/deploy_mujoco/deploy_mujoco.py g1.yaml

# 4. Sim2Real (Physical Robot)
python deploy/deploy_real/deploy_real.py eth0 g1.yaml
```

### Reward Function (Customizable)

```python
class rewards:
    tracking_lin_vel = 1.0      # Velocity tracking
    tracking_ang_vel = 0.5      # Angular velocity tracking
    lin_vel_z = -2.0            # Penalize vertical velocity
    orientation = -1.0          # Penalize non-upright
    torques = -0.0001           # Penalize high torques
    feet_air_time = 1.0         # Reward swing time
    collision = -1.0            # Penalize collisions
```

### Domain Randomization

```python
class domain_rand:
    randomize_friction = True
    friction_range = [0.5, 1.25]
    
    randomize_base_mass = True
    added_mass_range = [-1.0, 1.0]
    
    push_robots = True
    push_interval_s = 15
    max_push_vel_xy = 1.0
```

---

## ğŸ“Œ 3. Build Instructions

### OpenAI Example

```bash
cd unitree_sdk2/build

# Build with CURL
g++ -o g1_audio_openai ../example/g1/audio/g1_audio_openai_example.cpp \
    -lunitree_sdk2 -lcurl -lpthread

# Run
export OPENAI_API_KEY="sk-your-api-key"
./g1_audio_openai eth0
```

### Burmese AI Example

```bash
# Dependencies
sudo apt install libcurl4-openssl-dev

# Build
g++ -o g1_audio_burmese ../example/g1/audio/g1_audio_burmese_example.cpp \
    -lunitree_sdk2 -lcurl -lpthread

# Run
export GOOGLE_API_KEY="your-google-api-key"
export OPENAI_API_KEY="your-openai-api-key"
./g1_audio_burmese eth0
```

### RL Deployment (C++)

```bash
cd deploy/deploy_real/cpp_g1

# Install LibTorch
wget https://download.pytorch.org/libtorch/cpu/libtorch-cxx11-abi-shared-with-deps-2.7.1%2Bcpu.zip
unzip libtorch-cxx11-abi-shared-with-deps-2.7.1+cpu.zip

# Build
mkdir build && cd build
cmake ..
make -j4

# Run
./g1_deploy_run eth0
```

---

## ğŸ¯ 4. AI Features Summary

| Feature | Technology | Purpose |
|---------|------------|---------|
| **ASR/STT** | Robot Built-in / Google Cloud | Speech â†’ Text |
| **TTS** | Robot Built-in / Google Cloud | Text â†’ Speech |
| **LLM** | OpenAI GPT-4o-mini | Conversational AI |
| **Walking** | Reinforcement Learning | Locomotion control |
| **Arms** | Trajectory / SDK | Manipulation |

### LED Color Indicators

| Color | State |
|-------|-------|
| ğŸ”µ Blue | Listening (Ready) |
| ğŸŸ¡ Yellow/Orange | Processing (Thinking) |
| ğŸŸ¢ Green | Speaking (TTS output) |
| âš« Off | Shutdown |

---

## ğŸ”„ 5. TTS vs STT Comparison

```
TTS (Text-to-Speech):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Your Code â”‚ â†’  â”‚ Robot TTS â”‚ â†’   â”‚  Speaker  â”‚
â”‚  (Text)   â”‚     â”‚  Engine   â”‚     â”‚ (á€¡á€á€¶á€‘á€½á€€á€º) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STT (Speech-to-Text):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Microphone â”‚ â†’  â”‚ Robot ASR â”‚ â†’   â”‚ Your Code â”‚
â”‚ (á€œá€°á€•á€¼á€±á€¬á€á€¶) â”‚     â”‚  Engine   â”‚     â”‚  (Text)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š 6. Related Resources

- **Unitree RL Gym**: https://github.com/unitreerobotics/unitree_rl_gym
- **Isaac Gym**: https://developer.nvidia.com/isaac-gym
- **OpenAI API**: https://platform.openai.com/docs
- **Google Cloud Speech**: https://cloud.google.com/speech-to-text
- **Unitree Documentation**: https://support.unitree.com/home/zh/developer

---

*Last Updated: January 29, 2026*
